---
last_edited: 2026-02-14
editor: Antigravity (Gemini)
user: Coldaine
status: ready
version: 1.1.0
subsystem: architecture
tags: [adr, database, postgres]
doc_type: adr
---

# ADR-001: PostgreSQL Only decision


## Status
**Accepted** (Originally ADR-003, renumbered 2026-02-14)

## Context
Screenpipe's original SQLite backend suffered fatal write contention. Multiple concurrent capture tasks overwhelmed SQLite's single-writer model, causing cascading "database is locked" errors and unrecoverable corruption. The screenpipe team themselves added a `write_semaphore` and `BEGIN IMMEDIATE` retry logic, but the fundamental problem remained.

## Decision
**Use a single PostgreSQL instance as the only storage engine.** No SQLite, no DuckDB, no local-first caching layer.

## Consequences
- All deployments must have network access to the Postgres server.
- No offline-first or edge-only mode (acceptable for single-user, multi-deployment model).
- Eliminates an entire class of concurrency bugs.
- Simplifies the storage layer to one implementation.
